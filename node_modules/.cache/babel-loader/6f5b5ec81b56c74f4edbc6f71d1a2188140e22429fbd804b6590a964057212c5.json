{"ast":null,"code":"var _jsxFileName = \"/home/ansel/450/final/src/Child1.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Child1 extends Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    this.componentDidUpdate();\n  }\n  componentDidUpdate() {\n    const {\n      data,\n      selectedCompany,\n      parsedData\n    } = this.props;\n    d3.select('#scatter').selectAll('*').remove();\n    if (!parsedData[selectedCompany]) {\n      parsedData[selectedCompany] = data[selectedCompany].map(item => {\n        var parseDate = d3.timeParse(\"%Y-%m-%d\");\n        item.Date = parseDate(item.Date);\n        item.Open = parseFloat(item.Open);\n        item.Close = parseFloat(item.Close);\n        return item;\n      });\n    }\n    const x_axis_data = parsedData[selectedCompany].map(item => item.Date);\n    const y_axis_data = parsedData[selectedCompany].map(item => item.Open);\n    const x_scale = d3.scaleTime().domain(d3.extent(x_axis_data)).range([0, 400]);\n    const y_scale = d3.scaleLinear().domain([d3.min(y_axis_data), d3.max(y_axis_data)]).range([300, 0]);\n    d3.select(\"#scatter\").selectAll(\".open\").data(parsedData[selectedCompany]).enter().append('circle').attr('class', 'open').attr('cx', d => x_scale(d.Date)).attr('cy', d => y_scale(d.Open)).attr('r', 5).attr('fill', 'green');\n    d3.select(\"#scatter\").selectAll(\".close\").data(parsedData[selectedCompany]).enter().append('circle').attr('class', 'close').attr('cx', d => x_scale(d.Date)).attr('cy', d => y_scale(d.Close)).attr('r', 5).attr('fill', 'red');\n    const legend = d3.select(\"#scatter\").append('g').attr('class', 'legend').attr('transform', 'translate(450, 10)');\n    legend.selectAll('circle').data([0]).enter().append('circle').attr('cy', (_, i) => i * 20).attr('r', 5).attr('fill', d => d === 'Open' ? 'green' : 'red');\n    legend.selectAll('text').data(['Open', 'Close']).enter().append('text').attr('x', 10).attr('y', (_, i) => i * 20 + 5).text(d => d);\n\n    /*d3.select(\"scatter\").data(['Open', 'Close']).join('g').attr('class', 'legend_g').attr(\"transform\", \"translate(400,20)\")\n    .selectAll('.item').data([\"open\",\"close\"]).join(\"g\").attr('class', 'item').attr('transform', (dd,i)=>`translate(0,${i*25})`)\n    .attr('add_items', function(dd){\n      d3.select(this).selectAll(\"rect\").data([0]).join('rect').attr('x',0).attr('width',10).attr('height',10).attr('fill',d=>colormap[dd])\n      d3.select(this).selectAll(\"text\").data([0]).join('text').attr('x',20).attr('y',10).text(d=>dd)*/\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      id: \"scatter\",\n      width: \"500\",\n      height: \"300\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 16\n    }, this);\n  }\n}\nexport default Child1;","map":{"version":3,"names":["React","Component","d3","jsxDEV","_jsxDEV","Child1","constructor","props","componentDidMount","componentDidUpdate","data","selectedCompany","parsedData","select","selectAll","remove","map","item","parseDate","timeParse","Date","Open","parseFloat","Close","x_axis_data","y_axis_data","x_scale","scaleTime","domain","extent","range","y_scale","scaleLinear","min","max","enter","append","attr","d","legend","_","i","text","render","id","width","height","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/ansel/450/final/src/Child1.js"],"sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass Child1 extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.componentDidUpdate();\n    }\n\n    componentDidUpdate() {\n        const { data, selectedCompany, parsedData } = this.props;\n\n        d3.select('#scatter').selectAll('*').remove();\n        if (!parsedData[selectedCompany]) {\n            parsedData[selectedCompany] = data[selectedCompany].map(item => {\n                var parseDate = d3.timeParse(\"%Y-%m-%d\");\n                item.Date = parseDate(item.Date);\n                item.Open = parseFloat(item.Open);\n                item.Close = parseFloat(item.Close);\n                return item;\n            });\n        }\n        const x_axis_data = parsedData[selectedCompany].map(item => item.Date);\n        const y_axis_data = parsedData[selectedCompany].map(item => item.Open);\n\n        const x_scale = d3.scaleTime().domain(d3.extent(x_axis_data)).range([0, 400]);\n        const y_scale = d3.scaleLinear().domain([d3.min(y_axis_data), d3.max(y_axis_data)]).range([300, 0]);\n\n        d3.select(\"#scatter\").selectAll(\".open\")\n            .data(parsedData[selectedCompany])\n            .enter()\n            .append('circle')\n            .attr('class', 'open')\n            .attr('cx', d => x_scale(d.Date))\n            .attr('cy', d => y_scale(d.Open))\n            .attr('r', 5)\n            .attr('fill', 'green');\n\n        d3.select(\"#scatter\").selectAll(\".close\")\n            .data(parsedData[selectedCompany])\n            .enter()\n            .append('circle')\n            .attr('class', 'close')\n            .attr('cx', d => x_scale(d.Date))\n            .attr('cy', d => y_scale(d.Close))\n            .attr('r', 5)\n            .attr('fill', 'red');\n\n        const legend = d3.select(\"#scatter\").append('g')\n            .attr('class', 'legend')\n            .attr('transform', 'translate(450, 10)');\n\n        legend.selectAll('circle')\n            .data([0])\n            .enter()\n            .append('circle')\n            .attr('cy', (_, i) => i * 20)\n            .attr('r', 5)\n            .attr('fill', d => d === 'Open' ? 'green' : 'red');\n\n        legend.selectAll('text')\n            .data(['Open', 'Close'])\n            .enter()\n            .append('text')\n            .attr('x', 10)\n            .attr('y', (_, i) => i * 20 + 5)\n            .text(d => d);\n\n            /*d3.select(\"scatter\").data(['Open', 'Close']).join('g').attr('class', 'legend_g').attr(\"transform\", \"translate(400,20)\")\n            .selectAll('.item').data([\"open\",\"close\"]).join(\"g\").attr('class', 'item').attr('transform', (dd,i)=>`translate(0,${i*25})`)\n            .attr('add_items', function(dd){\n              d3.select(this).selectAll(\"rect\").data([0]).join('rect').attr('x',0).attr('width',10).attr('height',10).attr('fill',d=>colormap[dd])\n              d3.select(this).selectAll(\"text\").data([0]).join('text').attr('x',20).attr('y',10).text(d=>dd)*/\n    }\n\n    render() {\n        return <svg id='scatter' width=\"500\" height=\"300\"></svg>;\n    }\n}\n\nexport default Child1;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
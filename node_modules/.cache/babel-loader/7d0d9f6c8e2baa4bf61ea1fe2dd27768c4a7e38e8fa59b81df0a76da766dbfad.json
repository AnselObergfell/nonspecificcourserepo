{"ast":null,"code":"var _jsxFileName = \"/home/ansel/450/final/src/Child2.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Child2 extends Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidMount() {\n    this.componentDidUpdate();\n  }\n  componentDidUpdate() {\n    const {\n      data,\n      category\n    } = this.props;\n    d3.select('#scatter').selectAll('*').remove();\n    parsedData = data.map(item => {\n      var parseDate = d3.timeParse(\"%Y-%m-%d\");\n      item.Date = parseDate(item.Date);\n      item.Open = parseInt(item.Open);\n      item.Close = parseFloat(item.Close);\n      return item;\n    });\n    const x_axis_data = parsedData[selectedCompany].map(item => item.Date);\n    const open_data = parsedData[selectedCompany].map(item => item.Open);\n    const close_data = parsedData[selectedCompany].map(item => item.Close);\n    const open_close_combined = [...open_data, ...close_data];\n    const x_scale = d3.scaleTime().domain(d3.extent(x_axis_data)).range([0, 400]);\n    const y_scale = d3.scaleLinear().domain(d3.extent(open_close_combined)).range([300, 0]);\n    const colormap = {\n      \"open\": \"green\",\n      \"close\": \"red\"\n    };\n    d3.select(\"#demo2\").selectAll('.lines_g').data([parsedData[selectedCompany], parsedData[selectedCompany]]).join('g').attr('class', 'lines_g').attr(\"add_line\", function (area_chart_data, i) {\n      if (i == 0) {\n        const line = d3.line().x(d => x_scale(d.Date)).y(d => y_scale(d.Open));\n        d3.select(this).selectAll('.line').data([area_chart_data]).join('path').attr(\"class\", \"line\").attr(\"d\", line).attr(\"fill\", 'none').attr('stroke', 'green').attr('stroke-width', 1);\n      } else {\n        const line = d3.line().x(d => x_scale(d.Date)).y(d => y_scale(d.Close));\n        d3.select(this).selectAll('.line').data([area_chart_data]).join('path').attr(\"class\", \"line\").attr(\"d\", line).attr(\"fill\", 'none').attr('stroke', 'red').attr('stroke-width', 1);\n      }\n    });\n    d3.select(\".demo2\").selectAll(\".legend_g\").data([0]).join('g').attr('class', 'legend_g').attr(\"transform\", \"translate(400,20)\").selectAll('.item').data([\"open\", \"close\"]).join(\"g\").attr('class', 'item').attr('transform', (dd, i) => `translate(0,${i * 25})`).attr('add_items', function (dd) {\n      d3.select(this).selectAll(\"rect\").data([0]).join('rect').attr('x', 0).attr('width', 10).attr('height', 10).attr('fill', d => colormap[dd]);\n      d3.select(this).selectAll(\"text\").data([0]).join('text').attr('x', 20).attr('y', 10).text(d => dd);\n    });\n    const legend = d3.select(\"#demo2\").join('g').attr('class', 'legend_g');\n    //.attr('transform', 'translate(400, 20)');\n\n    legend.selectAll('legend_g').data(['Open', 'Close']).append('rect').data(['Open', 'Close']).enter().append('rect').attr('y', (_, i) => i * 20).attr('width', 10).attr('height', 10).attr('fill', d => d === 'Open' ? 'green' : 'red');\n    legend.selectAll('.item').attr('transform', 'translate(400,10)');\n    legend.selectAll('text').data(['Open', 'Close']).enter().append('text').attr('x', 10).attr('y', (_, i) => i * 20 + 5).text(d => d);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      id: \"demo2\",\n      width: \"500\",\n      height: \"300\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 16\n    }, this);\n  }\n}\nexport default Child2;","map":{"version":3,"names":["React","Component","d3","jsxDEV","_jsxDEV","Child2","constructor","props","componentDidMount","componentDidUpdate","data","category","select","selectAll","remove","parsedData","map","item","parseDate","timeParse","Date","Open","parseInt","Close","parseFloat","x_axis_data","selectedCompany","open_data","close_data","open_close_combined","x_scale","scaleTime","domain","extent","range","y_scale","scaleLinear","colormap","join","attr","area_chart_data","i","line","x","d","y","dd","text","legend","append","enter","_","render","id","width","height","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/ansel/450/final/src/Child2.js"],"sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass Child2 extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n      this.componentDidUpdate()\n    }\n\n    componentDidUpdate() {\n          const {data, category} = this.props;\n          \n          d3.select('#scatter').selectAll('*').remove();\n\n          parsedData = data.map(item => {\n              var parseDate = d3.timeParse(\"%Y-%m-%d\");\n              item.Date = parseDate(item.Date);\n              item.Open = parseInt(item.Open);\n              item.Close = parseFloat(item.Close);\n              return item;\n          });\n          const x_axis_data = parsedData[selectedCompany].map(item => item.Date);\n          const open_data = parsedData[selectedCompany].map(item => item.Open);\n          const close_data = parsedData[selectedCompany].map(item => item.Close);\n          const open_close_combined = [...open_data, ...close_data];\n          const x_scale = d3.scaleTime().domain(d3.extent(x_axis_data)).range([0, 400]);\n          const y_scale = d3.scaleLinear().domain(d3.extent(open_close_combined)).range([300, 0]);\n          const colormap = { \"open\": \"green\", \"close\": \"red\" };\n          d3.select(\"#demo2\")\n              .selectAll('.lines_g')\n              .data([parsedData[selectedCompany],parsedData[selectedCompany]])\n              .join('g').attr('class', 'lines_g').attr(\"add_line\", function(area_chart_data,i){\n                if (i == 0){\n                  const line = d3.line().x(d=>x_scale(d.Date)).y(d=>y_scale(d.Open))\n                  d3.select(this).selectAll('.line').data([area_chart_data]).join('path').attr(\"class\",\"line\").attr(\"d\",line).attr(\"fill\", 'none').attr('stroke', 'green').attr('stroke-width',1)\n                }\n                 else{\n                  const line = d3.line().x(d=>x_scale(d.Date)).y(d=>y_scale(d.Close))\n                  d3.select(this).selectAll('.line').data([area_chart_data]).join('path').attr(\"class\",\"line\").attr(\"d\",line).attr(\"fill\", 'none').attr('stroke', 'red').attr('stroke-width',1)\n                 } \n                })\n                d3.select(\".demo2\").selectAll(\".legend_g\").data([0]).join('g').attr('class', 'legend_g').attr(\"transform\", \"translate(400,20)\")\n                .selectAll('.item').data([\"open\",\"close\"]).join(\"g\").attr('class', 'item').attr('transform', (dd,i)=>`translate(0,${i*25})`)\n                .attr('add_items', function(dd){\n                  d3.select(this).selectAll(\"rect\").data([0]).join('rect').attr('x',0).attr('width',10).attr('height',10).attr('fill',d=>colormap[dd])\n                  d3.select(this).selectAll(\"text\").data([0]).join('text').attr('x',20).attr('y',10).text(d=>dd)\n                })\n            const legend = d3.select(\"#demo2\").join('g')\n                .attr('class', 'legend_g');\n                //.attr('transform', 'translate(400, 20)');\n    \n            legend.selectAll('legend_g')\n                .data(['Open', 'Close'])\n                .append('rect').data(['Open', 'Close'])\n                .enter()\n                .append('rect')\n                .attr('y', (_, i) => i * 20)\n                .attr('width', 10)\n                .attr('height', 10)\n                .attr('fill', d => d === 'Open' ? 'green' : 'red');\n    \n            legend.selectAll('.item').attr('transform', 'translate(400,10)');\n            legend.selectAll('text')\n                .data(['Open', 'Close'])\n                .enter()\n                .append('text')\n                .attr('x', 10)\n                .attr('y', (_, i) => i * 20 + 5)\n                .text(d => d);\n    }\n\n    render() {\n        return <svg id='demo2' width=\"500\" height=\"300\"></svg>;\n    }\n}\n\nexport default Child2;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAO,KAAKC,EAAE,MAAM,IAAI;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,MAAMC,MAAM,SAASJ,SAAS,CAAC;EAC3BK,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;EAChB;EAEAC,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC3B;EAEAA,kBAAkBA,CAAA,EAAG;IACf,MAAM;MAACC,IAAI;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAACJ,KAAK;IAEnCL,EAAE,CAACU,MAAM,CAAC,UAAU,CAAC,CAACC,SAAS,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,CAAC;IAE7CC,UAAU,GAAGL,IAAI,CAACM,GAAG,CAACC,IAAI,IAAI;MAC1B,IAAIC,SAAS,GAAGhB,EAAE,CAACiB,SAAS,CAAC,UAAU,CAAC;MACxCF,IAAI,CAACG,IAAI,GAAGF,SAAS,CAACD,IAAI,CAACG,IAAI,CAAC;MAChCH,IAAI,CAACI,IAAI,GAAGC,QAAQ,CAACL,IAAI,CAACI,IAAI,CAAC;MAC/BJ,IAAI,CAACM,KAAK,GAAGC,UAAU,CAACP,IAAI,CAACM,KAAK,CAAC;MACnC,OAAON,IAAI;IACf,CAAC,CAAC;IACF,MAAMQ,WAAW,GAAGV,UAAU,CAACW,eAAe,CAAC,CAACV,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACG,IAAI,CAAC;IACtE,MAAMO,SAAS,GAAGZ,UAAU,CAACW,eAAe,CAAC,CAACV,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACI,IAAI,CAAC;IACpE,MAAMO,UAAU,GAAGb,UAAU,CAACW,eAAe,CAAC,CAACV,GAAG,CAACC,IAAI,IAAIA,IAAI,CAACM,KAAK,CAAC;IACtE,MAAMM,mBAAmB,GAAG,CAAC,GAAGF,SAAS,EAAE,GAAGC,UAAU,CAAC;IACzD,MAAME,OAAO,GAAG5B,EAAE,CAAC6B,SAAS,CAAC,CAAC,CAACC,MAAM,CAAC9B,EAAE,CAAC+B,MAAM,CAACR,WAAW,CAAC,CAAC,CAACS,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IAC7E,MAAMC,OAAO,GAAGjC,EAAE,CAACkC,WAAW,CAAC,CAAC,CAACJ,MAAM,CAAC9B,EAAE,CAAC+B,MAAM,CAACJ,mBAAmB,CAAC,CAAC,CAACK,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACvF,MAAMG,QAAQ,GAAG;MAAE,MAAM,EAAE,OAAO;MAAE,OAAO,EAAE;IAAM,CAAC;IACpDnC,EAAE,CAACU,MAAM,CAAC,QAAQ,CAAC,CACdC,SAAS,CAAC,UAAU,CAAC,CACrBH,IAAI,CAAC,CAACK,UAAU,CAACW,eAAe,CAAC,EAACX,UAAU,CAACW,eAAe,CAAC,CAAC,CAAC,CAC/DY,IAAI,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAACA,IAAI,CAAC,UAAU,EAAE,UAASC,eAAe,EAACC,CAAC,EAAC;MAC9E,IAAIA,CAAC,IAAI,CAAC,EAAC;QACT,MAAMC,IAAI,GAAGxC,EAAE,CAACwC,IAAI,CAAC,CAAC,CAACC,CAAC,CAACC,CAAC,IAAEd,OAAO,CAACc,CAAC,CAACxB,IAAI,CAAC,CAAC,CAACyB,CAAC,CAACD,CAAC,IAAET,OAAO,CAACS,CAAC,CAACvB,IAAI,CAAC,CAAC;QAClEnB,EAAE,CAACU,MAAM,CAAC,IAAI,CAAC,CAACC,SAAS,CAAC,OAAO,CAAC,CAACH,IAAI,CAAC,CAAC8B,eAAe,CAAC,CAAC,CAACF,IAAI,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,OAAO,EAAC,MAAM,CAAC,CAACA,IAAI,CAAC,GAAG,EAACG,IAAI,CAAC,CAACH,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAACA,IAAI,CAAC,cAAc,EAAC,CAAC,CAAC;MACjL,CAAC,MACI;QACH,MAAMG,IAAI,GAAGxC,EAAE,CAACwC,IAAI,CAAC,CAAC,CAACC,CAAC,CAACC,CAAC,IAAEd,OAAO,CAACc,CAAC,CAACxB,IAAI,CAAC,CAAC,CAACyB,CAAC,CAACD,CAAC,IAAET,OAAO,CAACS,CAAC,CAACrB,KAAK,CAAC,CAAC;QACnErB,EAAE,CAACU,MAAM,CAAC,IAAI,CAAC,CAACC,SAAS,CAAC,OAAO,CAAC,CAACH,IAAI,CAAC,CAAC8B,eAAe,CAAC,CAAC,CAACF,IAAI,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,OAAO,EAAC,MAAM,CAAC,CAACA,IAAI,CAAC,GAAG,EAACG,IAAI,CAAC,CAACH,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAACA,IAAI,CAAC,cAAc,EAAC,CAAC,CAAC;MAC9K;IACD,CAAC,CAAC;IACFrC,EAAE,CAACU,MAAM,CAAC,QAAQ,CAAC,CAACC,SAAS,CAAC,WAAW,CAAC,CAACH,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC4B,IAAI,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CAACA,IAAI,CAAC,WAAW,EAAE,mBAAmB,CAAC,CAC9H1B,SAAS,CAAC,OAAO,CAAC,CAACH,IAAI,CAAC,CAAC,MAAM,EAAC,OAAO,CAAC,CAAC,CAAC4B,IAAI,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAACA,IAAI,CAAC,WAAW,EAAE,CAACO,EAAE,EAACL,CAAC,KAAI,eAAcA,CAAC,GAAC,EAAG,GAAE,CAAC,CAC3HF,IAAI,CAAC,WAAW,EAAE,UAASO,EAAE,EAAC;MAC7B5C,EAAE,CAACU,MAAM,CAAC,IAAI,CAAC,CAACC,SAAS,CAAC,MAAM,CAAC,CAACH,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC4B,IAAI,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC,CAACA,IAAI,CAAC,OAAO,EAAC,EAAE,CAAC,CAACA,IAAI,CAAC,QAAQ,EAAC,EAAE,CAAC,CAACA,IAAI,CAAC,MAAM,EAACK,CAAC,IAAEP,QAAQ,CAACS,EAAE,CAAC,CAAC;MACpI5C,EAAE,CAACU,MAAM,CAAC,IAAI,CAAC,CAACC,SAAS,CAAC,MAAM,CAAC,CAACH,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC4B,IAAI,CAAC,MAAM,CAAC,CAACC,IAAI,CAAC,GAAG,EAAC,EAAE,CAAC,CAACA,IAAI,CAAC,GAAG,EAAC,EAAE,CAAC,CAACQ,IAAI,CAACH,CAAC,IAAEE,EAAE,CAAC;IAChG,CAAC,CAAC;IACN,MAAME,MAAM,GAAG9C,EAAE,CAACU,MAAM,CAAC,QAAQ,CAAC,CAAC0B,IAAI,CAAC,GAAG,CAAC,CACvCC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;IAC1B;;IAEJS,MAAM,CAACnC,SAAS,CAAC,UAAU,CAAC,CACvBH,IAAI,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CACvBuC,MAAM,CAAC,MAAM,CAAC,CAACvC,IAAI,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CACtCwC,KAAK,CAAC,CAAC,CACPD,MAAM,CAAC,MAAM,CAAC,CACdV,IAAI,CAAC,GAAG,EAAE,CAACY,CAAC,EAAEV,CAAC,KAAKA,CAAC,GAAG,EAAE,CAAC,CAC3BF,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CACjBA,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAClBA,IAAI,CAAC,MAAM,EAAEK,CAAC,IAAIA,CAAC,KAAK,MAAM,GAAG,OAAO,GAAG,KAAK,CAAC;IAEtDI,MAAM,CAACnC,SAAS,CAAC,OAAO,CAAC,CAAC0B,IAAI,CAAC,WAAW,EAAE,mBAAmB,CAAC;IAChES,MAAM,CAACnC,SAAS,CAAC,MAAM,CAAC,CACnBH,IAAI,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CACvBwC,KAAK,CAAC,CAAC,CACPD,MAAM,CAAC,MAAM,CAAC,CACdV,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CACbA,IAAI,CAAC,GAAG,EAAE,CAACY,CAAC,EAAEV,CAAC,KAAKA,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAC/BM,IAAI,CAACH,CAAC,IAAIA,CAAC,CAAC;EACzB;EAEAQ,MAAMA,CAAA,EAAG;IACL,oBAAOhD,OAAA;MAAKiD,EAAE,EAAC,OAAO;MAACC,KAAK,EAAC,KAAK;MAACC,MAAM,EAAC;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAC1D;AACJ;AAEA,eAAetD,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}